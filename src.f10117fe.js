parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"mGrQ":[function(require,module,exports) {
"use strict";function v(v,e,t){void 0===t&&(t=!1),t?v.fillRect(e.x,e.y,e.w,e.h):v.strokeRect(e.x,e.y,e.w,e.h)}function e(v,e,t){void 0===t&&(t=!1),v.beginPath(),v.arc(e.c.x,e.c.y,e.r,0,2*Math.PI),t?v.fill():v.stroke()}function t(v,e,t){void 0===t&&(t=!1),v.beginPath(),v.moveTo(e.v.v1.x,e.v.v1.y),v.lineTo(e.v.v2.x,e.v.v2.y),v.lineTo(e.v.v3.x,e.v.v3.y),v.closePath(),t?v.fill():v.stroke()}function o(v,e,t){void 0===t&&(t=!1),v.beginPath(),v.moveTo(e.v.v1.x,e.v.v1.y),v.lineTo(e.v.v2.x,e.v.v2.y),v.lineTo(e.v.v3.x,e.v.v3.y),v.lineTo(e.v.v4.x,e.v.v4.y),v.lineTo(e.v.v5.x,e.v.v5.y),v.lineTo(e.v.v6.x,e.v.v6.y),v.closePath(),t?v.fill():v.stroke()}function i(v,e,t){void 0===t&&(t=!1),v.beginPath(),v.moveTo(e.v.t1.v.v1.x,e.v.t1.v.v1.y),v.lineTo(e.v.t2.v.v1.x,e.v.t2.v.v1.y),v.lineTo(e.v.t3.v.v1.x,e.v.t3.v.v1.y),v.lineTo(e.v.t4.v.v1.x,e.v.t4.v.v1.y),v.lineTo(e.v.t5.v.v1.x,e.v.t5.v.v1.y),v.lineTo(e.v.t6.v.v1.x,e.v.t6.v.v1.y),v.closePath(),t?v.fill():v.stroke()}function l(l,n,r){if(void 0===r&&(r=!1),"rect"===n.type)v(l,n,r);else if("circle"===n.type)e(l,n,r);else if("tri"===n.type)t(l,n,r);else if("hex"===n.type)o(l,n,r);else{if("hex2"!==n.type)throw new Error("drawShape out of range");i(l,n,r)}}function n(v){return 1===v?"#A51D2D":2===v?"#E5A50A":3===v?"#26A269":"#000000"}function r(v,e){v.save(),v.fillStyle=n(e.l),l(v,e.s,!e.c),v.restore()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawCollider=void 0,exports.drawCollider=r;
},{}],"j3xd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,n){this.x=t,this.y=n}return t.prototype.length=function(){return Math.sqrt(this.lengthSquared())},t.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y},t.prototype.add_=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.add=function(t){return this.clone().add_(t)},t.prototype.sub_=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.sub=function(t){return this.clone().sub_(t)},t.prototype.mul1_=function(t){return this.x*=t,this.y*=t,this},t.prototype.mul2_=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.mul1=function(t){return this.clone().mul1_(t)},t.prototype.mul2=function(t){return this.clone().mul2_(t)},t.prototype.clone=function(){return new t(this.x,this.y)},t.distance=function(n,e){return Math.sqrt(t.distanceSquared(n,e))},t.distanceSquared=function(t,n){var e=n.x-t.x,r=n.y-t.y;return e*e+r*r},t}();exports.default=t;
},{}],"CRZn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){return function(t,e,i,s){this.minX=t,this.maxX=e,this.minY=i,this.maxY=s}}();exports.default=t;
},{}],"Gq2z":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require(".")),n=e(require("../aabb")),o=e(require("../vector2")),i=function(e){function r(t,r,n,o){var i=e.call(this,"rect")||this;return i.x=t,i.y=r,i.w=n,i.h=o,i}return t(r,e),r.prototype.center=function(){return new o.default(this.x+this.w/2,this.y+this.h/2)},r.prototype.aabb=function(){return new n.default(this.x,this.x+this.w,this.y,this.y+this.h)},r.prototype.clone=function(){return new r(this.x,this.y,this.w,this.h)},r.fromAABB=function(t){return new r(t.minX,t.minY,t.maxX-t.minX,t.maxY-t.minY)},r}(r.default);exports.default=i;
},{".":"EPTP","../aabb":"CRZn","../vector2":"j3xd"}],"LqKZ":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])})(r,e)};return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=r(require(".")),n=r(require("../aabb")),o=function(r){function e(t,e){var n=r.call(this,"circle")||this;return n.c=t,n.r=e,n}return t(e,r),e.prototype.center=function(){return this.c.clone()},e.prototype.aabb=function(){var t=this.c.x-this.r,r=this.c.x+this.r,e=this.c.y-this.r,o=this.c.y+this.r;return new n.default(t,r,e,o)},e.prototype.clone=function(){return new e(this.c.clone(),this.r)},e}(e.default);exports.default=o;
},{".":"EPTP","../aabb":"CRZn"}],"ldNw":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var n=e(require("../vector2")),r=e(require(".")),o=e(require("../aabb")),i=function(){function t(t,e,n){this.v1=t,this.v2=e,this.v3=n}return t.prototype.clone=function(){return new t(this.v1.clone(),this.v2.clone(),this.v3.clone())},t}(),s=function(e){function r(t){var n=e.call(this,"tri")||this;return n.v=t,n}return t(r,e),r.prototype.center=function(){var t=(this.v.v1.x+this.v.v2.x+this.v.v3.x)/3,e=(this.v.v1.y+this.v.v2.y+this.v.v3.y)/3;return new n.default(t,e)},r.prototype.aabb=function(){var t=Math.min(this.v.v1.x,this.v.v2.x,this.v.v3.x),e=Math.min(this.v.v1.y,this.v.v2.y,this.v.v3.y),n=Math.max(this.v.v1.x,this.v.v2.x,this.v.v3.x),r=Math.max(this.v.v1.y,this.v.v2.y,this.v.v3.y);return new o.default(t,n,e,r)},r.prototype.clone=function(){return new r(this.v.clone())},r.fromVertex=function(t,e,n){return new r(new i(t,e,n))},r.fromCenterLengthAngle=function(t,e,o){var s=e*Math.sqrt(3)/3,v=o,u=v+2*Math.PI/3,h=v+4*Math.PI/3,a=new n.default(t.x+s*Math.cos(v),t.y+s*Math.sin(v)),c=new n.default(t.x+s*Math.cos(u),t.y+s*Math.sin(u)),f=new n.default(t.x+s*Math.cos(h),t.y+s*Math.sin(h));return new r(new i(a,c,f))},r}(r.default);exports.default=s;
},{"../vector2":"j3xd",".":"EPTP","../aabb":"CRZn"}],"yynT":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Hexagon2=void 0;var e=n(require("../vector2")),r=n(require(".")),o=n(require("./triangle")),i=n(require("../aabb")),h=function(){function t(t,n,e,r,o,i){this.v1=t,this.v2=n,this.v3=e,this.v4=r,this.v5=o,this.v6=i}return t.prototype.clone=function(){return new t(this.v1.clone(),this.v2.clone(),this.v3.clone(),this.v4.clone(),this.v5.clone(),this.v6.clone())},t}(),u=function(n){function r(t){var e=n.call(this,"hex")||this;return e.v=t,e}return t(r,n),r.prototype.center=function(){var t=(this.v.v1.x+this.v.v4.x)/2,n=(this.v.v1.y+this.v.v4.y)/2;return new e.default(t,n)},r.prototype.clone=function(){return new r(this.v.clone())},r.fromCenterLengthAngle=function(t,n,o){var i=[];return[0,Math.PI/3,2*Math.PI/3,Math.PI,4*Math.PI/3,5*Math.PI/3].forEach(function(r){var h=new e.default(t.x+n*Math.cos(r+o),t.y+n*Math.sin(r+o));i.push(h)}),new r(new h(i[0],i[1],i[2],i[3],i[4],i[5]))},r}(r.default);exports.default=u;var s=function(){function t(t,n,e,r,o,i){this.t1=t,this.t2=n,this.t3=e,this.t4=r,this.t5=o,this.t6=i}return t.prototype.asHexagonVertex=function(){return new h(this.t1.v.v1,this.t2.v.v1,this.t3.v.v1,this.t4.v.v1,this.t5.v.v1,this.t6.v.v1).clone()},t.prototype.clone=function(){return new t(this.t1.clone(),this.t2.clone(),this.t3.clone(),this.t4.clone(),this.t5.clone(),this.t6.clone())},t}(),a=function(n){function r(t){var e=n.call(this,"hex2")||this;return e.v=t,e}return t(r,n),r.prototype.center=function(){return this.v.t1.v.v3.clone()},r.prototype.aabb=function(){for(var t=Number.MAX_VALUE,n=Number.MAX_VALUE,e=Number.MIN_VALUE,r=Number.MIN_VALUE,o=0,h=[this.v.t1,this.v.t2,this.v.t3,this.v.t4,this.v.t5,this.v.t6].map(function(t){return t.aabb()});o<h.length;o++){var u=h[o];t=Math.min(t,u.minX),n=Math.min(n,u.minY),e=Math.max(e,u.maxX),r=Math.max(r,u.maxY)}return new i.default(t,e,n,r)},r.prototype.clone=function(){return new r(this.v.clone())},r.fromCenterLengthAngle=function(t,n,i){var h=[];[0,Math.PI/3,2*Math.PI/3,Math.PI,4*Math.PI/3,5*Math.PI/3].forEach(function(r){var o=new e.default(t.x+n*Math.cos(r+i),t.y+n*Math.sin(r+i));h.push(o)});for(var u=[],a=0;a<h.length;a++){var c=o.default.fromVertex(h[a].clone(),h[(a+1)%h.length].clone(),t.clone());u.push(c)}return new r(new s(u[0],u[1],u[2],u[3],u[4],u[5]))},r}(r.default);exports.Hexagon2=a;
},{"../vector2":"j3xd",".":"EPTP","./triangle":"ldNw","../aabb":"CRZn"}],"EPTP":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Hexagon2=exports.Hexagon=exports.Triangle=exports.Circle=exports.Rect=exports.Shape=void 0;var r=function(){function e(e){this.type=e}return e.prototype.center=function(){throw new Error("Shape.center is abstract")},e.prototype.aabb=function(){throw new Error("Shape.aabb is abstract")},e.prototype.clone=function(){throw new Error("Shape.clone is abstract")},e}();exports.Shape=r,exports.default=r;var t=e(require("./rect"));exports.Rect=t.default;var o=e(require("./circle"));exports.Circle=o.default;var a=e(require("./triangle"));exports.Triangle=a.default;var n=e(require("./hexagon"));exports.Hexagon=n.default;var i=require("./hexagon");Object.defineProperty(exports,"Hexagon2",{enumerable:!0,get:function(){return i.Hexagon2}});
},{"./rect":"Gq2z","./circle":"LqKZ","./triangle":"ldNw","./hexagon":"yynT"}],"xwQm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e,s,i){void 0===i&&(i=!1),this.s=t,this.v=e,this.l=s,this.c=i}return t.prototype.clone=function(){return new t(this.s.clone(),this.v.clone(),this.l,this.c)},t}();exports.default=t;
},{}],"UldJ":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.moveTowards=exports.makeCircleOfColliders=exports.getRandomNormalizedVector=void 0;var r=require("./shape"),t=e(require("./collider")),a=e(require("./vector2"));function o(){var e=2*Math.random()-1,r=2*Math.random()-1,t=Math.sqrt(e*e+r*r),o=e/t,n=r/t;return new a.default(o,n)}function n(){return 2*Math.random()*Math.PI-Math.PI}function u(e,u,s,l){for(var d=2*Math.PI/l,i=0;i<l;i++){var f=i*d,h=new a.default(u.x+s*Math.cos(f),u.y+s*Math.sin(f)),m=o().mul1_(4*Math.random());i%3==0?e.gameObjects.push(new t.default(new r.Circle(h,15),m,3)):i%3==1?e.gameObjects.push(new t.default(r.Triangle.fromCenterLengthAngle(h,30,n()),m,3)):i%3==2&&e.gameObjects.push(new t.default(r.Hexagon2.fromCenterLengthAngle(h,15,n()),m,3))}}function s(e,r,t){var o=r.sub(e),n=o.length();if(n<=0||t<=0)return e;var u=o.x/n*t,s=o.y/n*t;return new a.default(u,s).add_(e)}exports.getRandomNormalizedVector=o,exports.makeCircleOfColliders=u,exports.moveTowards=s;
},{"./shape":"EPTP","./collider":"xwQm","./vector2":"j3xd"}],"JZII":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.intersectShapeShape=exports.intersectHexagon2Hexagon2=exports.intersectHexagon2Hexagon=exports.intersectHexagon2Triangle=exports.intersectHexagon2Circle=exports.intersectHexagon2Rect=exports.intersectHexagonHexagon2=exports.intersectHexagonHexagon=exports.intersectHexagonTriangle=exports.intersectHexagonCircle=exports.intersectHexagonRect=exports.intersectTriangleHexagon2=exports.intersectTriangleHexagon=exports.intersectTriangleTriangle=exports.intersectTriangleCircle=exports.intersectTriangleRect=exports.intersectCircleHexagon2=exports.intersectCircleHexagon=exports.intersectCircleTriangle=exports.intersectCircleCircle=exports.intersectCircleRect=exports.intersectRectHexagon2=exports.intersectRectHexagon=exports.intersectRectTriangle=exports.intersectRectCircle=exports.intersectRectRect=exports.containsHexagon2=exports.containsHexagon=exports.containsTriangle=exports.containsCircle=exports.containsRect=exports.moveCollider=exports.applyGeneralElasticCollision2=exports.applyGeneralElasticCollision=exports.moveShape=void 0;var t=e(require("./vector2")),r=require("./utils"),n={rect:{rect:h,circle:H,tri:C,hex:T,hex2:R},circle:{rect:_,circle:m,tri:M,hex:E,hex2:S},tri:{rect:b,circle:q,tri:G,hex:j,hex2:D},hex:{rect:O,circle:P,tri:k,hex:z,hex2:A},hex2:{rect:B,circle:F,tri:I,hex:J,hex2:K}};function o(e,t){e.x+=t.x,e.y+=t.y}function x(e,t){e.c.add_(t)}function v(e,t){e.v.v1.add_(t),e.v.v2.add_(t),e.v.v3.add_(t)}function i(e,t){e.v.v1.add_(t),e.v.v2.add_(t),e.v.v3.add_(t),e.v.v4.add_(t),e.v.v5.add_(t),e.v.v6.add_(t)}function c(e,t){v(e.v.t1,t),v(e.v.t2,t),v(e.v.t3,t),v(e.v.t4,t),v(e.v.t5,t),v(e.v.t6,t)}function a(e,t){if("rect"===e.type)o(e,t);else if("circle"===e.type)x(e,t);else if("tri"===e.type)v(e,t);else if("hex"===e.type)i(e,t);else{if("hex2"!==e.type)throw new Error("moveShape out of range");c(e,t)}}function s(e,r){var n=r.s.center().clone().sub_(e.s.center()),o=t.default.distance(e.s.center(),r.s.center()),x=new t.default(n.x/o,n.y/o),v=e.v.clone().sub_(r.v),i=v.x*x.x+v.y*x.y;i<0||(e.v.sub_(x.mul1(i)),r.v.add_(x.mul1(i)))}function l(e,r){var n=(e.v.x+2*r.v.x)/2,o=(e.v.y+2*r.v.y)/2,x=(r.v.x+2*e.v.x)/2,v=(r.v.y+2*e.v.y)/2;e.v=new t.default(n,o),r.v=new t.default(x,v)}function u(e){a(e.s,e.v)}function p(e,t){return t.x>=e.x&&t.x<=e.x+e.w&&t.y>=e.y&&t.y<=e.y+e.h}function y(e,t){return Math.pow(e.c.x-t.x,2)+Math.pow(e.c.y-t.y,2)<=Math.pow(e.r,2)}function f(e,t){var r=((e.v.v2.y-e.v.v3.y)*(t.x-e.v.v3.x)+(e.v.v3.x-e.v.v2.x)*(t.y-e.v.v3.y))/((e.v.v2.y-e.v.v3.y)*(e.v.v1.x-e.v.v3.x)+(e.v.v3.x-e.v.v2.x)*(e.v.v1.y-e.v.v3.y)),n=((e.v.v3.y-e.v.v1.y)*(t.x-e.v.v3.x)+(e.v.v1.x-e.v.v3.x)*(t.y-e.v.v3.y))/((e.v.v2.y-e.v.v3.y)*(e.v.v1.x-e.v.v3.x)+(e.v.v3.x-e.v.v2.x)*(e.v.v1.y-e.v.v3.y)),o=1-r-n;return r>=0&&n>=0&&o>=0&&r+n+o===1}function g(e,t){throw new Error("containsHexagon2 not implemented")}function d(e,t){for(var r=0,n=[e.v.t1,e.v.t2,e.v.t3,e.v.t4,e.v.t5,e.v.t6];r<n.length;r++){if(f(n[r],t))return!0}return!1}function h(e,t){var r=e.x<t.x+t.w&&e.x+e.w>t.x,n=e.y<t.y+t.h&&e.y+e.h>t.y;return r&&n}function H(e,t){var n=(0,r.moveTowards)(t.center(),e.center(),t.r);return p(e,n)}function w(e,t,r,n){var o=(t.x-e.x)*(r.y-e.y)-(r.x-e.x)*(t.y-e.y),x=(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y),v=(n.x-r.x)*(e.y-r.y)-(e.x-r.x)*(n.y-r.y),i=(n.x-r.x)*(t.y-r.y)-(t.x-r.x)*(n.y-r.y);return o*x<0&&v*i<0}function C(e,r){for(var n=[{start:new t.default(e.x,e.y),end:new t.default(e.x+e.w,e.y)},{start:new t.default(e.x,e.y),end:new t.default(e.x,e.y+e.h)},{start:new t.default(e.x,e.y+e.h),end:new t.default(e.x+e.w,e.y+e.h)},{start:new t.default(e.x+e.w,e.y),end:new t.default(e.x+e.w,e.y+e.h)}],o=[{start:r.v.v1,end:r.v.v2},{start:r.v.v2,end:r.v.v3},{start:r.v.v3,end:r.v.v1}],x=0,v=n;x<v.length;x++)for(var i=v[x],c=0,a=o;c<a.length;c++){var s=a[c];if(w(i.start,i.end,s.start,s.end))return!0}return!1}function T(e,t){throw new Error}function R(e,t){for(var r=0,n=[t.v.t1,t.v.t2,t.v.t3,t.v.t4,t.v.t5,t.v.t6];r<n.length;r++){if(C(e,n[r]))return!0}return!1}function _(e,t){return H(t,e)}function m(e,r){return t.default.distance(e.c,r.c)<=e.r+r.r}function M(e,r){function n(e,t){var r=e.x,n=e.y,o=t.v,x=o.v1,v=o.v2,i=o.v3,c=.5*(-v.y*i.x+x.y*(-v.x+i.x)+x.x*(v.y-i.y)+v.x*i.y),a=c<0?-1:1,s=(x.y*i.x-x.x*i.y+(i.y-x.y)*r+(x.x-i.x)*n)*a,l=(x.x*v.y-x.y*v.x+(x.y-v.y)*r+(v.x-x.x)*n)*a;return s>0&&l>0&&s+l<2*c*a}if(n(e.c,r)||n(new t.default(e.c.x+e.r,e.c.y),r)||n(new t.default(e.c.x,e.c.y+e.r),r)||n(new t.default(e.c.x-e.r,e.c.y),r)||n(new t.default(e.c.x,e.c.y-e.r),r))return!0;for(var o=0,x=[{start:r.v.v1,end:r.v.v2},{start:r.v.v2,end:r.v.v3},{start:r.v.v3,end:r.v.v1}];o<x.length;o++){var v=x[o],i=v.end.x-v.start.x,c=v.end.y-v.start.y,a=Math.sqrt(i*i+c*c),s=((e.c.x-v.start.x)*i+(e.c.y-v.start.y)*c)/(a*a),l=v.start.x+s*i,u=v.start.y+s*c;if(l>=Math.min(v.start.x,v.end.x)&&l<=Math.max(v.start.x,v.end.x)&&u>=Math.min(v.start.y,v.end.y)&&u<=Math.max(v.start.y,v.end.y))if(Math.sqrt(Math.pow(e.c.x-l,2)+Math.pow(e.c.y-u,2))<=e.r)return!0}return!1}function E(e,t){throw new Error}function S(e,t){for(var r=0,n=[t.v.t1,t.v.t2,t.v.t3,t.v.t4,t.v.t5,t.v.t6];r<n.length;r++){if(M(e,n[r]))return!0}return!1}function b(e,t){return C(t,e)}function q(e,t){return M(t,e)}function G(e,t){for(var r=[{start:e.v.v1,end:e.v.v2},{start:e.v.v2,end:e.v.v3},{start:e.v.v3,end:e.v.v1}],n=[{start:t.v.v1,end:t.v.v2},{start:t.v.v2,end:t.v.v3},{start:t.v.v3,end:t.v.v1}],o=0,x=r;o<x.length;o++)for(var v=x[o],i=0,c=n;i<c.length;i++){var a=c[i];if(w(v.start,v.end,a.start,a.end))return!0}return!1}function j(e,t){throw new Error}function D(e,t){for(var r=0,n=[t.v.t1,t.v.t2,t.v.t3,t.v.t4,t.v.t5,t.v.t6];r<n.length;r++){if(G(e,n[r]))return!0}return!1}function O(e,t){return T(t,e)}function P(e,t){return E(t,e)}function k(e,t){return j(t,e)}function z(e,t){throw new Error}function A(e,t){throw new Error}function B(e,t){return R(t,e)}function F(e,t){return S(t,e)}function I(e,t){return D(t,e)}function J(e,t){return A(t,e)}function K(e,t){for(var r=0,n=[e.v.t1,e.v.t2,e.v.t3,e.v.t4,e.v.t5,e.v.t6];r<n.length;r++)for(var o=n[r],x=0,v=[t.v.t1,t.v.t2,t.v.t3,t.v.t4,t.v.t5,t.v.t6];x<v.length;x++){if(G(o,v[x]))return!0}return!1}function L(e,t){return n[e.type][t.type](e,t)}exports.moveShape=a,exports.applyGeneralElasticCollision=s,exports.applyGeneralElasticCollision2=l,exports.moveCollider=u,exports.containsRect=p,exports.containsCircle=y,exports.containsTriangle=f,exports.containsHexagon=g,exports.containsHexagon2=d,exports.intersectRectRect=h,exports.intersectRectCircle=H,exports.intersectRectTriangle=C,exports.intersectRectHexagon=T,exports.intersectRectHexagon2=R,exports.intersectCircleRect=_,exports.intersectCircleCircle=m,exports.intersectCircleTriangle=M,exports.intersectCircleHexagon=E,exports.intersectCircleHexagon2=S,exports.intersectTriangleRect=b,exports.intersectTriangleCircle=q,exports.intersectTriangleTriangle=G,exports.intersectTriangleHexagon=j,exports.intersectTriangleHexagon2=D,exports.intersectHexagonRect=O,exports.intersectHexagonCircle=P,exports.intersectHexagonTriangle=k,exports.intersectHexagonHexagon=z,exports.intersectHexagonHexagon2=A,exports.intersectHexagon2Rect=B,exports.intersectHexagon2Circle=F,exports.intersectHexagon2Triangle=I,exports.intersectHexagon2Hexagon=J,exports.intersectHexagon2Hexagon2=K,exports.intersectShapeShape=L;
},{"./vector2":"j3xd","./utils":"UldJ"}],"dgAm":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./painter"),s=require("./processor"),i=t(require("./vector2")),a=function(){function t(t,e){void 0===e&&(e=15),this.ctx=t,this.gameObjects=[],this.lastTick=performance.now(),this.lastDraw=this.lastTick,this.tickLength=e,this.tickCount=0,this.stopCycle=0,this.paused=!0}return t.prototype.continue=function(){this.paused&&(this.paused=!1,this.lastTick=performance.now(),this.run(this.lastTick))},t.prototype.pause=function(){this.paused||(this.paused=!0,window.cancelAnimationFrame(this.stopCycle))},t.prototype.draw=function(t){t.clearRect(0,0,t.canvas.width,t.canvas.height),this.gameObjects.forEach(function(s){return(0,e.drawCollider)(t,s)})},t.prototype.run=function(t){var e=this;this.paused||(this.stopCycle=window.requestAnimationFrame(function(t){return e.run(t)}),this.step(t))},t.prototype.step=function(t){for(;t-this.tickLength>=this.lastTick;)this.lastTick=this.lastTick+this.tickLength,this.tickCount+=1,this.physicsStep();this.draw(this.ctx),this.lastDraw=t},t.prototype.physicsStep=function(){this.detectCollisions(),this.detectEdgeCollisions(),this.move()},t.prototype.move=function(){for(var t=0,e=this.gameObjects;t<e.length;t++){var i=e[t];(0,s.moveCollider)(i)}},t.prototype.detectCollisions=function(){var t=this,e=new Set;this.gameObjects.forEach(function(t){return t.c=!1});for(var i=0;i<this.gameObjects.length;i++)for(var a=this.gameObjects[i],n=i+1;n<this.gameObjects.length;n++){var o=this.gameObjects[n];(0,s.intersectShapeShape)(a.s,o.s)&&(a.c=!0,o.c=!0,(0,s.applyGeneralElasticCollision)(a,o),a.l-=1,a.l<=0&&e.add(a),o.l-=1,o.l<=0&&e.add(o))}e.forEach(function(e){var s=t.gameObjects.indexOf(e);t.gameObjects.splice(s,1)})},t.prototype.detectEdgeCollisions=function(){for(var t=0,e=this.gameObjects;t<e.length;t++){var a=e[t];a.s.aabb().minX<0?(a.v.x=Math.abs(a.v.x),(0,s.moveShape)(a.s,new i.default(-a.s.aabb().minX,0))):a.s.aabb().maxX>this.ctx.canvas.clientWidth&&(a.v.x=-Math.abs(a.v.x),(0,s.moveShape)(a.s,new i.default(this.ctx.canvas.clientWidth-a.s.aabb().maxX,0))),a.s.aabb().minY<0?(a.v.y=Math.abs(a.v.y),(0,s.moveShape)(a.s,new i.default(0,-a.s.aabb().minY))):a.s.aabb().maxY>this.ctx.canvas.clientHeight&&(a.v.y=-Math.abs(a.v.y),(0,s.moveShape)(a.s,new i.default(0,this.ctx.canvas.clientHeight-a.s.aabb().maxY)))}},t}();exports.default=a;
},{"./painter":"mGrQ","./processor":"JZII","./vector2":"j3xd"}],"B6dB":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t,n=e(require("./game")),i=require("./utils"),c=e(require("./vector2")),d=document.getElementById("cnvs"),r=d.getContext("2d");function u(){t=new n.default(r,15),(0,i.makeCircleOfColliders)(t,new c.default(d.clientWidth/2,d.clientHeight/2),200,20),t.draw(t.ctx)}function o(){l(),a()}function l(){s(),u()}function s(){t.pause()}function a(){t.continue()}function f(){t.step(t.lastTick+t.tickLength)}function m(e){var t={1:o,2:l,3:s,4:a,5:f},n=e.key;for(var i in t)n===i&&t[i].call()}u(),document.addEventListener("keypress",m),document.addEventListener("DOMContentLoaded",function(){document.getElementById("fastrestart").addEventListener("click",o),document.getElementById("restart").addEventListener("click",l),document.getElementById("stop").addEventListener("click",s),document.getElementById("continue").addEventListener("click",a),document.getElementById("step").addEventListener("click",f)});
},{"./game":"dgAm","./utils":"UldJ","./vector2":"j3xd"}]},{},["B6dB"], null)